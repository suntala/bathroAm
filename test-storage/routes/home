import test from 'ava'
import request from 'supertest'
import app from '../../app'

test('Automatic pass', async t => {
    t.pass('Automatic pass')
})


test('Get homepage', async t => {
    let input = {address: 'Rosa Luxemburg Str. 7, 10178', time: '15:00', weekday: "tue", threshold: 5}

    const creation = (await request(app)
        .post('/')
        .send(input))
        .body
        
    const res = await request(app)
        .get('/')

    t.is(res.status, 200)
    // t.true(res.body.length > 0)
})





// test('Get homepage', async t => {
//     const testAddress = {address: 'A', inputTime: '20:00'} 

//     console.log("1")
//     const creation = await request(app)
//         .post('/')
//         .send(testAddress)

//     console.log("5")
        
//     const res = await request(app)
//         .get('/restaurant/all')

//     // t.is(res.status, 200)
//     t.true(res.body.length > 0)
// })


// test('Get list of people', async t => {
//     const personToCreate = {name: 'Armagan Amcalar', age: 33}

//     const creation = await request(app)
//         .post('/person')
//         .send(personToCreate)

// 	const res = await request(app)
// 		.get('/person')

//     t.is(res.status, 200)
//     t.true(Array.isArray(res.body), 'Body should be an array')
//     t.true(res.body.length > 0)
// });



/*  THE WORK

test('Get homepage', async t => {
    // // const testAddress = {address: 'A', inputTime: '20:00'} 
    // let address = {name: 'Ze Test', status: true, neighborhood: 'Ze Neigh', openingHours: [{weekday: 'tue', intervals: [{from: 1400, to: 1900}]}], latitude: 0, longitude: 0, address: 'Ze Address', website: 'Ze Web'}
    // let cooAddress = await RestoServices.getAddressCoo(address);
    // let inputTime = '15:00'
    // let time = inputTime.replace(':','');
    // let weekday = 'tue';    
    // let selection = await RestoServices.findResults(time,weekday,address,req.body.threshold);
    // let test = selection[0];
    // let cooTest = await RestoServices.getIdCoo(test.id);

    // let cooAddress = {latitude: 0, longitude: 0}; 
    // let inputTime = '15:00'
    // let time = inputTime.replace(':','');
    // let weekday = 'tue';    
    // let selection = [{name: 'Ze Test', status: true, neighborhood: 'Ze Neigh', openingHours: [{weekday: 'tue', intervals: [{from: 1400, to: 1900}]}], latitude: 0, longitude: 0, address: 'Ze Address', website: 'Ze Web'}]
    // let cooTest = {id: 0, latitude: 0, longitude: 0};
    // // let material = {time, weekday, selection, cooAddress, cooTest}
        // let material = {time: time, weekday: weekday, selection: selection, cooAddress: cooAddress, cooTest: cooTest}


    // const restaurant = (await request(app)
    //     .post('/restaurant')
    //     .send(selection))
    //     .body


    // {name: 'Dolores', status: true, neighborhood: 'Mitte', openingHours: '11:30 - 22:00', gpsCoordinates: 0, address: 'Rosa Luxemburg Str. 7, 10178', website: 'http://www.dolores-online.de/1000.html'}
    let bla = {address: 'Rosa Luxemburg Str. 7, 10178', time: '15:00', weekday: "tue", threshold: 5}

    // const creation = await request(app)
    //     .post('/')
    //     .send(bla)
    //     // .send({id: 0, time: '15:00'})
    //     // .send(material)
    //     // .send(time)
    //     // .send(weekday)
    //     // .send(selection)
    //     // .send(cooAddress)
    //     // .send(cooTest)

    const creation = (await request(app)
        .post('/')
        .send(bla))
        .body
        
    const res = await request(app)
        .get('/')

    t.is(res.status, 200)
    // t.true(res.body.length > 0)
})

*/