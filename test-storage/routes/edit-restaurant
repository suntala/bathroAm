import test from 'ava'
import request from 'supertest'
import app from '../../app'

test('Automatic pass', async t => {
    t.pass('Automatic pass')
})

test('Get creation page', async t => {
    let input = {name: 'Ze Name', status: true}

    const create = await request(app)
        .post('/r/create')
        .send(input)
    
    const res = await request(app)
        .get('/r/create')
    
    t.is(create.status, 302)
    t.is(res.status, 200)
})

// test('Get an editing page', async t => {
//     let input = {name: 'Ze Name', status: true}
    
//     const create = await request(app)
//         .post('/r/create')
//         .send(input)

//     const one = await request(app)
//         .post(`/r/${input.id}/create`)
//         .send(input)  
    
//     const two = await request(app)
//         .get(`/r/${input.id}/create`)
    
//     // t.is(one.status, 302)
//     // t.is(two.status, 200)    
// })
//not working... how to fix?



// test('Get an editing page', async t => {
//     let input = {id: 500, name: 'Ze Name', status: true}

//     const one = await request(app)
//         .post(`/r/${input.id}/create`)
//         .send(input)  
    
//     const two = await request(app)
//         .get(`/r/${input.id}/create`)
    
//     t.is(one.status, 404)
//     t.is(two.status, 200)    
// })


// test('Get list of people', async t => {
//     const personToCreate = {name: 'Armagan Amcalar', age: 33}

//     const creation = await request(app)
//         .post('/person')
//         .send(personToCreate)

// 	const res = await request(app)
// 		.get('/person')

//     t.is(res.status, 200)
//     t.true(Array.isArray(res.body), 'Body should be an array')
//     t.true(res.body.length > 0)
// });